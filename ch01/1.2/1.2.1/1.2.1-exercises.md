# 1.2.1’s exercises

## Exercise 1.9

Each of the following two procedures defines a method for adding two positive integers in terms of the procedures Inc., which increments its argument by 1, and Dec., which decrements its argument by 1.

```scheme
(define (+ a b) 
  (if (= a 0) b (inc (+ (dec a) b))))
(define (+ a b) 
  (if (= a 0) b (+ (dec a) (inc b))))
```

Using the substitution model, illustrate the process generated by each procedure in evaluating (+ 4 5). Are these processes iterative or recursive?

### solution

```scheme
;定义
(define (+ a b) 
  (if (= a 0) 
  b 
  (inc (+ (dec a) b))))

  (+ 4 5)

  (inc (+ 3 5))

  (inc (inc (+ 2 5)))

  (inc (inc (inc (+ 1 5))))

  (inc (inc (inc (inc (+ 0 5)))))

  (inc (inc (inc (inc 5))))

  (inc (inc (inc 6)))

  (inc (inc 7))

  (inc 8)

  9
```
该过程明显的有展开和搜索的过程，所以这个是是线性递归模型(recursive model)

```scheme
(define (+ a b) 
  (if (= a 0) 
  b 
  (+ (dec a) (inc b))))

(+ 4 5)

(+ (dec 4) (inc 5))

(+ (dec 3) (inc 6))

(+ (dec 2) (inc 7))

(+ (dec 1) (inc 8))

(+ 0 9)

9
```
而第二个虽然调用过程为recursive，但是该processes是iterative模式.

## Exercise 1.10

The following procedure computes a mathematical function called Ackermann’s function.

```scheme
(define (A x y) 
	(cond ((= y 0) 0) 
		((= x 0) (* 2 y)) 
		((= y 1) 2) 
		(else (A (- x 1) (A x (- y 1))))))
```

What are the values of the following expressions?

`(A 1 10)`

`(A 2 4)`

`(A 3 3)`

Consider the following procedures, where A is the procedure defined above:

`(define (f n) (A 0 n))`

`(define (g n) (A 1 n))`

`(define (h n) (A 2 n))`

`(define (k n) (* 5 n n))`

Give concise mathematical definitions for the functions computed by the procedures f, g, and h for positive integer values of n. For example, (k n) computes 5n^2^.

### solution

`(A 1 10)`
value:1024

`(A 2 4)`
value:65536

`(A 3 3)`
value:65536

`(define (f n) (A 0 n))`

$$f(n) = 2·n$$

`(define (g n) (A 1 n))`

$$
g(n)=
\begin{cases}
0, & \text{n = 0}\\
2^n,& \text{n != 0}\\
\end{cases}
$$

`(define (h n) (A 2 n))`

$$
h(n) = h(n-1)^{h(n-1)}
$$

`(define (k n) (* 5 n n))`

## exercise 1.19
There is a clever algorithm for computing the Fibonacci numbers in a logarithmic number of steps.Recall the transformation of the state variables a and b inthe fib-iter process of Section 1.2.2: a ← a +b and b ← a.
Call this transformation T , and observe that applying Tover and over again n times, starting with 1 and 0, produces
the pair Fib(n + 1) and Fib(n). In other words, the Fibonacci numbers are produced by applyingT n
, the n
th power of the
transformationT , starting with the pair (1, 0). Now consider
T to be the special case of p = 0 and q = 1 in a family of
transformations Tpq , where Tpq transforms the pair (a, b)
according to a ← bq + aq + ap and b ← bp + aq. Show
that if we apply such a transformation Tpq twice, the effect
is the same as using a single transformation Tp
′q
′ of the
same form, and compute p
′
and q
′
in terms of p and q. is
gives us an explicit way to square these transformations,
and thus we can compute T
n using successive squaring, as
in the fast-expt procedure. Put this all together to complete the following procedure, which runs in a logarithmic
number of steps

### solution

too hard ,i give up